# Что такое HTTP?

HTTP - это протокол прикладного уровня, то есть он обеспечивает стандартизированный способ взаимодействия приложений друг с другом через Интернет. HTTP определяет набор методов запроса, кодов ответа, заголовков и форматов сообщений, которые используются для обмена данными между клиентами и серверами.

![[Pasted image 20240404200551.png]]

## Методы запроса

В HTTP определено несколько методов запроса (также известных как глаголы), которые могут использоваться для выполнения различных типов действий с ресурсом.

### GET

Считайте, что GET - это запрос к серверу на получение ресурса, например веб-страницы или изображения. Когда вы вводите URL-адрес в браузер и нажимаете Enter, браузер отправляет GET-запрос на сервер с просьбой предоставить содержимое этой веб-страницы.

### POST

POST - это отправка формы на сервер с некоторыми данными. Например, когда вы отправляете форму входа на сайт, ваш браузер посылает POST-запрос на сервер с вашим именем пользователя и паролем.

### PUT

PUT - это обновление ресурса на сервере. Например, если вы редактируете информацию о своем профиле на сайте, ваш браузер может отправить на сервер запрос PUT с обновленной информацией.

### DELETE

DELETE - это запрос к серверу на удаление ресурса. Например, если вы хотите удалить сообщение на сайте социальной сети, ваш браузер может отправить серверу запрос DELETE.

### PATCH

PATCH - это обновление ресурса на сервере, но изменение только его части. Например, если вы хотите изменить только подпись изображения на сайте, ваш браузер может отправить серверу запрос PATCH.

## Коды ответов

HTTP определяет набор кодов ответа, которые указывают на статус запроса. Эти коды представляют собой трехзначные числа, которые отправляются сервером в ответ на запрос клиента.

![[Pasted image 20240404201655.png]]

- 2xx: коды успеха, например 200 OK, означающие, что запрос был выполнен успешно и сервер отправляет запрошенные данные.
- 3xx: Коды перенаправления, например 301 Moved Permanently, означающие, что запрашиваемый ресурс переместился на новое место и клиенту необходимо обновить его URL.
- 4xx: коды ошибок клиента, например 404 Not Found, означающие, что запрашиваемый ресурс не найден на сервере.
- 5xx: коды ошибок сервера, например 500 Internal Server Error, означающие, что на сервере произошла ошибка, которая не позволила ему выполнить запрос.

## Заголовки

HTTP определяет набор заголовков, которые могут использоваться для предоставления дополнительной информации о запросе или ответе. Заголовки - это пары ключ-значение, которые включаются в HTTP-сообщение.

Заголовки предоставляют больше информации о запросе или ответе и могут использоваться для различных целей, например:
- Заголовки авторизации могут использоваться для включения в запрос на доступ к защищенным ресурсам учетных данных аутентификации.
- Заголовки Cache-Control могут использоваться для указания времени, в течение которого клиент должен кэшировать ответ, чтобы избежать лишних запросов к серверу.
- Заголовки Content-Type могут использоваться для указания типа данных, отправляемых в запросе или ответе, например JSON или XML.
- Заголовки Accept могут использоваться для указания типа данных, которые клиент может принять в ответе.

## Форматы сообщений

HTTP-сообщения - это способ, с помощью которого клиенты и серверы общаются друг с другом. Существует два типа HTTP-сообщений: запросы и ответы.

Сообщение HTTP-запроса отправляется клиентом, например веб-браузером, на сервер и состоит из трех частей:
- Строка запроса: Здесь указывается используемый метод HTTP, URL запрашиваемого ресурса и версия используемого протокола HTTP.
- Заголовки: Это дополнительные фрагменты информации, отправляемые вместе с запросом, которые предоставляют больше контекста о запросе, как объяснялось в моем предыдущем ответе.
- Тело: Это необязательная часть сообщения, которая содержит данные, отправляемые вместе с запросом, например, данные формы или JSON.

Ответное сообщение HTTP отправляется сервером клиенту в ответ на HTTP-запрос и также состоит из трех частей:
- Строка состояния: Она включает в себя используемую версию HTTP, код ответа, указывающий на то, был ли запрос успешным или нет, и короткое сообщение, поясняющее код ответа.
- Заголовки: Это дополнительные части информации, отправляемые вместе с ответом, как объяснялось выше.
- Тело: Это необязательная часть сообщения, содержащая данные, отправляемые обратно клиенту, например HTML или JSON.

# Различные типы HTTP-заголовков

HTTP-заголовки - это дополнительные части информации, которые могут быть отправлены вместе с HTTP-запросом или ответом. Существует несколько типов HTTP-заголовков, рассмотрим наиболее распространенные.

## Заголовки запросов

Заголовки запросов отправляются клиентом на сервер и содержат дополнительную информацию о запросе. Например, заголовок "User-Agent" указывает тип клиента, делающего запрос, а заголовок "Accept" определяет тип содержимого, которое может обрабатывать клиент.

## Заголовки ответа

Заголовки ответа отправляются сервером клиенту и содержат дополнительную информацию об ответе. Например, заголовок "Content-Type" указывает тип содержимого, которое отправляет сервер, а заголовок "Cache-Control" определяет, как долго клиент может кэшировать ответ.

## Заголовки сущностей

Заголовки сущностей отправляются вместе с телом сущности в запросе или ответе и предоставляют дополнительную информацию о содержимом. Например, заголовок "Content-Length" указывает длину тела сущности, а заголовок "Content-Encoding" - кодировку.

# Различные типы HTTP-методов

Методы HTTP - это глаголы, которые используются для описания действий, которые клиент хочет выполнить над ресурсом.

## GET

Этот метод используется для получения ресурса с сервера. Когда клиент отправляет GET-запрос, сервер отвечает запрошенным ресурсом. Этот метод является идемпотентным, что означает, что отправка одного и того же запроса несколько раз будет иметь тот же эффект, что и однократная отправка.

## POST

Этот метод используется для отправки данных на сервер для обработки. Когда клиент отправляет POST-запрос, сервер обрабатывает данные и отправляет ответ. Этот метод не является идемпотентным, что означает, что отправка одного и того же запроса несколько раз может иметь разные последствия.

## PUT

Этот метод используется для обновления существующего ресурса на сервере. Когда клиент отправляет запрос PUT, сервер заменяет существующий ресурс новыми данными, предоставленными клиентом. Этот метод является идемпотентным, что означает, что отправка одного и того же запроса несколько раз будет иметь тот же эффект, что и однократная отправка.

## DELETE

Этот метод используется для удаления ресурса с сервера. Когда клиент отправляет запрос DELETE, сервер удаляет указанный ресурс из своего хранилища. Этот метод является идемпотентным, что означает, что отправка одного и того же запроса несколько раз будет иметь тот же эффект, что и однократная отправка.

## OPTIONS

Этот метод используется для получения информации об опциях связи, доступных для ресурса. Когда клиент отправляет запрос OPTIONS, сервер отвечает списком доступных методов, заголовков и других вариантов связи для указанного ресурса.

## HEAD

Этот метод похож на метод GET, но он позволяет получить только заголовки ресурса, а не его тело. Когда клиент отправляет запрос HEAD, сервер отвечает заголовками указанного ресурса, но не отправляет его содержимое.

## CONNECT

Этот метод используется для установления сетевого соединения с ресурсом. Когда клиент отправляет запрос CONNECT, сервер отвечает туннелем, который может быть использован для установления безопасного соединения с указанным ресурсом.

## TRACE

Этот метод используется для получения диагностической трассировки связи между клиентом и сервером. Когда клиент отправляет запрос TRACE, сервер отвечает сообщением, содержащим копию заголовков запроса и ответа.

# Что такое REST API?

REST (Representational State Transfer) API позволяют компьютерам общаться друг с другом через интернет стандартным и понятным способом.

REST - это архитектурный стиль программного обеспечения для создания веб-сервисов, обеспечивающих связь между приложениями через Интернет. REST - это подход, который подчеркивает простоту, масштабируемость и гибкость. RESTful API - это веб-сервисы, которые соответствуют архитектурному стилю REST.

# Ключевые особенности REST API

REST API позволяют приложениям взаимодействовать друг с другом через интернет, отправляя и получая данные стандартным образом. Использование RESTful API становится все более популярным в связи с ростом числа веб- и мобильных приложений, которым необходимо взаимодействовать друг с другом, а также с серверами, на которых размещаются данные и ресурсы. RESTful API позволяют приложениям взаимодействовать без жесткой привязки, что означает, что изменения в одном приложении не обязательно повлияют на другое.

## Клиент-серверная архитектура

Клиент-серверная архитектура, в которой клиент (например, мобильное приложение или веб-приложение) взаимодействует с сервером (который предоставляет данные и ресурсы) посредством HTTP-запросов и ответов. Клиент-серверная архитектура похожа на ресторан. Сервер, который подобен официанту, принимает заказы от клиентов и отправляет их на кухню (сервер) для приготовления. Когда еда готова, сервер приносит ее обратно на стол (клиенту), чтобы клиент мог ею насладиться.

## Бесстатусное взаимодействие

Бесстатусное взаимодействие, при котором каждый HTTP-запрос содержит всю необходимую информацию для того, чтобы сервер понял и выполнил запрос. Это означает, что каждый запрос содержит всю информацию, необходимую серверу для его понимания, поэтому серверу не нужно отслеживать все предыдущие запросы. Это как если бы вы попросили у мамы печенье, ей не нужно было бы помнить, что вы просили его раньше, она бы просто дала вам печенье.

## Единый интерфейс

Единый интерфейс обеспечивает стандартизированный способ взаимодействия клиента с сервером. Они используют общий формат данных, обычно JSON или XML, для обмена информацией. Это означает, что отправляемая и получаемая информация имеет формат, понятный как клиенту, так и серверу. Это похоже на то, как если бы вы и ваш друг были из разных стран, вам бы потребовалось говорить на общем языке, например английском, чтобы понимать друг друга.

Использование стандартных методов HTTP-запросов Использование стандартных методов HTTP-запросов (GET, POST, PUT, DELETE и т. д.) для выполнения операций CRUD (Create, Read, Update, Delete) над ресурсами. Эти методы похожи на инструменты в ящике для инструментов, и каждый из них предназначен для выполнения определенной работы. GET используется для получения информации, POST - для создания новой информации, PUT - для обновления информации, а DELETE - для удаления информации. Это все равно что использовать молоток, чтобы забить гвоздь в кусок дерева, и пилу, чтобы распилить дерево.

## Использование гипермедиа

Использование гипермедиа, когда ответ сервера содержит ссылки на связанные ресурсы, позволяет клиенту перемещаться по API. Для идентификации ресурсов используются URL-адреса. Это означает, что каждый ресурс имеет свой уникальный URL, который можно использовать для доступа к нему. Это как адрес улицы для дома - у каждого дома есть свой адрес, по которому его можно найти.

# Принципы работы REST API

Рой Филдинг создал REST в 2000 году. REST (Representational State Transfer) API - это API, которые следуют принципам архитектуры REST. Они также известны как RESTful API.

REST API следуют шести принципам проектирования.

## Разделение клиента и сервера

Представьте себе официанта, принимающего заказ от клиента в ресторане. Официант - это как сервер, а клиент - как клиент. Точно так же сервер предоставляет услуги клиенту, но они разделены и не зависят друг от друга.

## Бесстатусность

Представьте, что вы пришли в магазин, чтобы что-то купить, а продавец не помнит вас по предыдущему визиту. Точно так же сервер ничего не помнит о предыдущих запросах, сделанных клиентом. Каждый запрос содержит всю информацию, необходимую для его обработки, как, например, заказ пиццы без того, чтобы пиццамейкер помнил ваши предыдущие заказы.

## Кэшируемость

Иногда, когда вы приходите в магазин, продавец может запомнить купленный вами товар и предложить что-то похожее. Точно так же сервер может хранить ответ на запрос и использовать его для более быстрого ответа на последующие запросы. Это называется кэшированием.

## Многослойная система

Как здание имеет несколько этажей, так и RESTful API может иметь несколько слоев, каждый из которых обеспечивает различные функции. Клиент может взаимодействовать с верхним слоем, ничего не зная о нижележащих слоях.

## Единый интерфейс

Представьте себе меню в ресторане, в котором есть фотографии и описание каждого блюда. Точно так же и RESTful API должен иметь согласованный интерфейс, понятный всем клиентам. Это включает в себя использование стандартных методов HTTP, таких как GET, POST, PUT и DELETE, а также использование URL для идентификации ресурсов.

## Код по требованию (опционально)

Некоторые RESTful API могут предоставлять клиенту исполняемый код, например функцию JavaScript. Это может быть полезно для добавления дополнительной функциональности клиенту, не требуя ее встраивания в исходное приложение.

# Ссылки

https://rapidapi.com/learn/rest#anatomy-of-a-rest-api