
Существует два правила для работы в GUI:
- не выполняйте задачи с длительным временем выполнения в потоке пользовательского интерфейса;
- не обращайтесь к UI-элементам ни в одном потоке, кроме потока пользовательского интерфейса.

в C# 5 и более поздних версиях были введены ключевые слова async
и await. Они позволяют вам продолжать писать код, как если бы он был синхрон-
ным, что делает его чистым и легким для понимания. Однако компилятор C#
создает сложную машину состояний и отслеживает запущенные потоки.